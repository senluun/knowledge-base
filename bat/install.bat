@echo off
chcp 65001 >nul
echo ========================================
echo    –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ë–∞–∑—ã –∑–Ω–∞–Ω–∏–π
echo ========================================
echo.

echo [1/8] –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è...
python -m venv .venv
if errorlevel 1 (
    echo –û–®–ò–ë–ö–ê: –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
    echo –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Python —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
    pause
    exit /b 1
)

echo [2/8] –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è...
call .venv\Scripts\activate.bat

echo [3/8] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π...
pip install --upgrade pip
pip install -r requirements.txt
if errorlevel 1 (
    echo –û–®–ò–ë–ö–ê: –ù–µ —É–¥–∞–ª–æ—Å—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
    pause
    exit /b 1
)

echo [4/8] –°–æ–∑–¥–∞–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π...
if not exist "static" mkdir static
if not exist "media" mkdir media  
if not exist "logs" mkdir logs
echo –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å–æ–∑–¥–∞–Ω—ã

echo [5/8] –ü—Ä–æ–≤–µ—Ä–∫–∞ Django...
python -c "import django; print('Django –≤–µ—Ä—Å–∏—è:', django.get_version())"
if errorlevel 1 (
    echo –û–®–ò–ë–ö–ê: Django –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
    pause
    exit /b 1
)

echo [6/8] –ü—Ä–æ–≤–µ—Ä–∫–∞ Django...
python manage.py check
if errorlevel 1 (
    echo –û–®–ò–ë–ö–ê: –ü—Ä–æ–±–ª–µ–º—ã —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ Django
    pause
    exit /b 1
)

echo [7/8] –°–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π...
python manage.py makemigrations
if errorlevel 1 (
    echo –û–®–ò–ë–ö–ê: –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
    echo –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–æ–¥–µ–ª–∏ –Ω–∞ –æ—à–∏–±–∫–∏
    pause
    exit /b 1
)

python manage.py migrate
if errorlevel 1 (
    echo –û–®–ò–ë–ö–ê: –ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
    pause
    exit /b 1
)

echo [8/8] –°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è...
python manage.py shell << EOF
from django.contrib.auth import get_user_model
User = get_user_model()
if not User.objects.filter(email='admin@example.com').exists():
    User.objects.create_superuser(
        username='admin',
        email='admin@example.com',
        password='admin123',
        first_name='–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä',
        last_name='–°–∏—Å—Ç–µ–º—ã'
    )
    print('–°—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω: admin/admin123')
else:
    print('–°—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç')
EOF

python manage.py init_project

echo.
echo ========================================
echo    –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!
echo ========================================
echo.
echo üéâ –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ!
echo.
echo üìã –î–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–µ:
echo   URL: http://localhost:8000
echo   –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å: http://localhost:8000/admin
echo   –õ–æ–≥–∏–Ω: admin
echo   –ü–∞—Ä–æ–ª—å: admin123
echo.
echo üöÄ –î–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞:
echo   start.bat
echo.
pause
















